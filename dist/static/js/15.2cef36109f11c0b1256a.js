webpackJsonp([15],{SH2r:function(t,e){},ycSK:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),n=a.n(i),s=a("5jRo"),l=a("SJI6"),o=a("L6bb"),c=a.n(o),r={name:"getwayManger",mixins:[s.a],data:function(){return{currentPage:1,channelName:"",bankArr:[],apiUrl:"/api/channel/getPagingListByChannelName",rechargeObj:{show:!1,row:"",money:"",common:""},deleMoneyObj:{show:!1,common:"",money:""},editObj:{show:!1,type:0,stationId:"",wayName:"",payer:"",getBankName:"",otherBnakName:"",getBankAccount:"",kefuChat:"",kefuQQ:"",kefuPhone:"",adminAccount:"",adminPassword:"",yuantongPrice:""},resetPassObj:{show:!1},tableData:[]}},computed:n()({params:function(){return{channelName:this.channelName,pageNo:this.pageNo,pageSize:this.pageSize}}},Object(l.mapGetters)(["userInfo"])),methods:{setList:function(t){this.tableData=t},handleClick:function(t){},userSet:function(t){if(0===t[1])this.rechargeObj.show=!0,this.rechargeObj.row=t[0];else if(1===t[1]){this.editObj.type=0;var e=t[0];this.editObj={show:this.editObj.show,type:this.editObj.type,stationId:e.channelId,wayName:e.name,payer:e.recipetUserName,getBankName:e.recipetBankName,otherBnakName:e.recipetBankName,getBankAccount:e.recipetAccount,kefuChat:e.serviceWechatNum,kefuQQ:e.serviceQq,kefuPhone:e.serviceTelephone,adminAccount:e.adminUserName,adminPassword:e.adminPassword,yuantongPrice:e.price},this.editObj.show=!0}else if(2===t[1]){for(var a in this.editObj.type=1,this.editObj)"type"!==a&&"show"!==a&&(this.editObj[a]="");this.editObj.show=!0}else 3===t[1]?(this.deleMoneyObj.row=t[0],this.deleMoneyObj.show=!0):4===t[1]&&(this.resetPassObj.row=t[0],this.resetPassObj.show=!0)},sureToReset:function(){var t=this;this.$ajax.post("/api/channel/resetPwd",{platformAccountId:this.userInfo.platformAccountId,channelAccountId:this.resetPassObj.row.adminAccountId}).then(function(e){"200"===e.data.code?(t.$message({message:"操作成功",type:"success"}),t.getList(),t.resetPassObj.show=!1):t.$message({message:e.data.message,type:"warning"})}).catch(function(){t.$message.error("服务器错误！")})},sureToRecharge:function(){var t=this;this.$ajax.post("/api/channel/recharge/addMoneyToChannelFund",{money:this.rechargeObj.money,comment:this.rechargeObj.common,channelId:this.rechargeObj.row.channelId,operateUserId:this.userInfo.platformAccountId}).then(function(e){if("200"===e.data.code)for(var a in t.rechargeObj.show=!1,t.$message({message:"操作成功!",type:"success"}),t.getList(),t.rechargeObj)"show"!==a&&(t.rechargeObj[a]="");else t.$message({message:e.data.message,type:"warning"})}).catch(function(t){})},sureToDele:function(){var t=this;this.$ajax.post("/api/channel/recharge/reduceMoneyFromChannelFund",{money:this.deleMoneyObj.money,comment:this.deleMoneyObj.common,channelId:this.deleMoneyObj.row.channelId,operateUserId:this.userInfo.platformAccountId}).then(function(e){if("200"===e.data.code)for(var a in t.deleMoneyObj.show=!1,t.getList(),t.$message({message:"操作成功!",type:"success"}),t.deleMoneyObj)"show"!==a&&(t.deleMoneyObj[a]="");else t.$message({message:e.data.message,type:"warning"})}).catch(function(e){t.$message.error("服务器错误！")})},sureToPost:function(){var t=this,e="";0===this.editObj.type?e="/api/channel/updateChannelInfo":1===this.editObj.type&&(e="/api/channel/addChannel"),this.$ajax.post(e,{channelId:this.editObj.stationId||"",channelName:this.editObj.wayName,recipetContent:("999"===this.editObj.getBankName?this.editObj.otherBnakName:this.editObj.getBankName)+"-"+this.editObj.payer+"-"+this.editObj.getBankAccount,recipetName:this.editObj.payer,recipetAccount:this.editObj.getBankAccount,recipetBankName:"999"===this.editObj.getBankName?this.editObj.otherBnakName:this.editObj.getBankName,serviceQQ:this.editObj.kefuQQ,serviceWechatNum:this.editObj.kefuChat,servicePhone:this.editObj.kefuPhone,adminUserName:this.editObj.adminAccount,adminPassword:this.editObj.adminPassword?c()(this.editObj.adminPassword):"",price:this.editObj.yuantongPrice}).then(function(e){if("200"===e.data.code)for(var a in t.editObj.show=!1,t.$message({message:"操作成功!",type:"success"}),t.getList(),t.editObj)"show"!==a&&"type"!==a&&(t.editObj[a]="");else t.$message({message:e.data.message,type:"warning"})}).catch(function(t){})},getBank:function(){var t=this;this.$ajax.post("/api/config/bankCard/getBankInfoList",{}).then(function(e){"200"===e.data.code?t.bankArr=e.data.data:t.$message({message:e.data.message,type:"warning"})}).catch(function(t){})}},mounted:function(){this.getBank()}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"getwayManger"},[a("div",{staticClass:"search"},[a("div",{staticClass:"left"},[a("span",[t._v("渠道名称")]),t._v(" "),a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"输入渠道名称"},model:{value:t.channelName,callback:function(e){t.channelName=e},expression:"channelName"}}),t._v(" "),a("em",{staticClass:"btn",on:{click:t.getList}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"right"},[a("em",{staticClass:"btn-b",on:{click:function(e){t.userSet([{},2])}}},[t._v("添加渠道")])])]),t._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"channelId",label:"渠道ID",align:"center",width:"185"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"渠道名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"账户余额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rechargeSum",label:"累计充值",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"recipetContent",label:"收款帐号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"serviceQq",label:"客服QQ",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"serviceTelephone",label:"客服电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gmtCreate",label:"添加时间",align:"center",width:"185"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.userSet([e.row,0])}}},[t._v("充值")]),t._v(" "),a("el-dropdown",{on:{command:t.userSet}},[a("span",{staticStyle:{"font-size":"12px",color:"#409EFF"}},[t._v("\n              更多\n              "),a("i",{staticClass:"el-icon-arrow-down"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:[e.row,1]}},[t._v("编辑")]),t._v(" "),a("el-dropdown-item",{attrs:{command:[e.row,3]}},[t._v("扣除金额")]),t._v(" "),a("el-dropdown-item",{attrs:{command:[e.row,4]}},[t._v("重置密码")])],1)],1)]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizeArray,"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pageTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"alertGroup"},[a("el-dialog",{attrs:{title:"渠道充值","append-to-body":!0,visible:t.rechargeObj.show,width:"600px",top:"25vh"},on:{"update:visible":function(e){t.$set(t.rechargeObj,"show",e)}}},[a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"60px","text-align":"right"}},[t._v("金额(元)")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:t.rechargeObj.money,callback:function(e){t.$set(t.rechargeObj,"money",e)},expression:"rechargeObj.money"}})],1),t._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"60px","text-align":"right"}},[t._v("备注")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:t.rechargeObj.common,callback:function(e){t.$set(t.rechargeObj,"common",e)},expression:"rechargeObj.common"}})],1),t._v(" "),a("div",{staticClass:"buttons",staticStyle:{"text-align":"center","margin-top":"40px"}},[a("span",{staticClass:"btn-b",staticStyle:{"margin-right":"10px"},on:{click:function(e){t.rechargeObj.show=!1}}},[t._v("取消")]),t._v(" "),a("span",{staticClass:"btn",on:{click:t.sureToRecharge}},[t._v("确定")])])]),t._v(" "),a("el-dialog",{attrs:{title:"扣除余额","append-to-body":!0,visible:t.deleMoneyObj.show,width:"600px",top:"25vh"},on:{"update:visible":function(e){t.$set(t.deleMoneyObj,"show",e)}}},[a("div",{staticClass:"cont",staticStyle:{"text-align":"center"}},[a("span",[t._v("金额")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:t.deleMoneyObj.money,callback:function(e){t.$set(t.deleMoneyObj,"money",e)},expression:"deleMoneyObj.money"}})],1),t._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-top":"20px"}},[a("span",[t._v("备注")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:t.deleMoneyObj.common,callback:function(e){t.$set(t.deleMoneyObj,"common",e)},expression:"deleMoneyObj.common"}})],1),t._v(" "),a("div",{staticClass:"buttons",staticStyle:{"text-align":"center","margin-top":"40px"}},[a("span",{staticClass:"btn-b",staticStyle:{"margin-right":"10px"},on:{click:function(e){t.deleMoneyObj.show=!1}}},[t._v("取消")]),t._v(" "),a("span",{staticClass:"btn",on:{click:t.sureToDele}},[t._v("确定")])])]),t._v(" "),a("el-dialog",{attrs:{title:"重置密码","append-to-body":!0,visible:t.resetPassObj.show,width:"600px",top:"25vh"},on:{"update:visible":function(e){t.$set(t.resetPassObj,"show",e)}}},[a("div",{staticClass:"cont",staticStyle:{"text-align":"center"}},[a("span",{staticStyle:{"font-size":"18px","font-wight":"bold"}},[t._v("你确定要重置该用户的密码吗?请谨慎操作")])]),t._v(" "),a("div",{staticClass:"buttons",staticStyle:{"text-align":"center","margin-top":"40px"}},[a("span",{staticClass:"btn-b",staticStyle:{"margin-right":"10px"},on:{click:function(e){t.resetPassObj.show=!1}}},[t._v("取消")]),t._v(" "),a("span",{staticClass:"btn",on:{click:t.sureToReset}},[t._v("确定")])])]),t._v(" "),a("el-dialog",{attrs:{title:0==t.editObj.type?"渠道编辑":"添加渠道","append-to-body":!0,visible:t.editObj.show,width:"600px",top:"5vh"},on:{"update:visible":function(e){t.$set(t.editObj,"show",e)}}},[0==t.editObj.type?a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[t._v("站点编码")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{disabled:0==t.editObj.type,placeholder:"请输入内容"},model:{value:t.editObj.stationId,callback:function(e){t.$set(t.editObj,"stationId",e)},expression:"editObj.stationId"}})],1):t._e(),t._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[t._v("渠道名称")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:t.editObj.wayName,callback:function(e){t.$set(t.editObj,"wayName",e)},expression:"editObj.wayName"}})],1),t._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[t._v("收款人")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:t.editObj.payer,callback:function(e){t.$set(t.editObj,"payer",e)},expression:"editObj.payer"}})],1),t._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[t._v("收款卡银行")]),t._v(" "),a("el-select",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请选择"},model:{value:t.editObj.getBankName,callback:function(e){t.$set(t.editObj,"getBankName",e)},expression:"editObj.getBankName"}},[t._l(t.bankArr,function(t,e){return a("el-option",{key:e,attrs:{label:t.bankName,value:t.bankName}})}),t._v(" "),a("el-option",{attrs:{label:"其他",value:"999"}})],2)],1),t._v(" "),999==t.editObj.getBankName?a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}}),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:t.editObj.otherBnakName,callback:function(e){t.$set(t.editObj,"otherBnakName",e)},expression:"editObj.otherBnakName"}})],1):t._e(),t._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[t._v("收款卡号")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:t.editObj.getBankAccount,callback:function(e){t.$set(t.editObj,"getBankAccount",e)},expression:"editObj.getBankAccount"}})],1),t._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[t._v("客服微信")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:t.editObj.kefuChat,callback:function(e){t.$set(t.editObj,"kefuChat",e)},expression:"editObj.kefuChat"}})],1),t._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[t._v("客服QQ")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:t.editObj.kefuQQ,callback:function(e){t.$set(t.editObj,"kefuQQ",e)},expression:"editObj.kefuQQ"}})],1),t._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[t._v("客服电话")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:t.editObj.kefuPhone,callback:function(e){t.$set(t.editObj,"kefuPhone",e)},expression:"editObj.kefuPhone"}})],1),t._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[t._v("管理员帐号")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{disabled:0==t.editObj.type,placeholder:"请输入内容"},model:{value:t.editObj.adminAccount,callback:function(e){t.$set(t.editObj,"adminAccount",e)},expression:"editObj.adminAccount"}}),t._v(" "),1==t.editObj.type?a("p",{staticStyle:{color:"#ff3341"}},[t._v("注: 管理员帐号添加后不可修改!")]):t._e()],1),t._v(" "),1==t.editObj.type?a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[t._v("管理员密码")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{type:"password",placeholder:"请输入内容"},model:{value:t.editObj.adminPassword,callback:function(e){t.$set(t.editObj,"adminPassword",e)},expression:"editObj.adminPassword"}})],1):t._e(),t._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[t._v("圆通定价")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:t.editObj.yuantongPrice,callback:function(e){t.$set(t.editObj,"yuantongPrice",e)},expression:"editObj.yuantongPrice"}})],1),t._v(" "),a("div",{staticClass:"buttons",staticStyle:{"text-align":"center","margin-top":"40px"}},[a("span",{staticClass:"btn-b",staticStyle:{"margin-right":"10px"},on:{click:function(e){t.editObj.show=!1}}},[t._v("取消")]),t._v(" "),a("span",{staticClass:"btn",on:{click:t.sureToPost}},[t._v("确定")])])])],1)])},staticRenderFns:[]};var p=a("VU/8")(r,d,!1,function(t){a("SH2r")},"data-v-02274806",null);e.default=p.exports}});
//# sourceMappingURL=15.2cef36109f11c0b1256a.js.map