webpackJsonp([10],{IAi1:function(e,t){},ycSK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Dd8w"),n=a.n(i),s=a("5jRo"),l=a("SJI6"),o=a("L6bb"),c=a.n(o),r={name:"getwayManger",mixins:[s.a],data:function(){return{currentPage:1,channelName:"",rechargeIsPosting:!0,reduceIsPosting:!0,bankArr:[],apiUrl:"/api/channel/getPagingListByChannelName",rechargeObj:{show:!1,row:"",money:"",common:""},deleMoneyObj:{show:!1,common:"",money:""},editObj:{show:!1,type:0,stationId:"",wayName:"",payer:"",getBankName:"",otherBnakName:"",getBankAccount:"",kefuChat:"",kefuQQ:"",kefuPhone:"",adminAccount:"",adminPassword:"",yuantongPrice:""},resetPassObj:{show:!1},tableData:[]}},computed:n()({params:function(){return{channelName:this.channelName,pageNo:this.pageNo,pageSize:this.pageSize}}},Object(l.mapGetters)(["userInfo"])),methods:{setList:function(e){this.tableData=e},handleClick:function(e){},userSet:function(e){if(0===e[1])this.rechargeObj.show=!0,this.rechargeObj.row=e[0];else if(1===e[1]){this.editObj.type=0;var t=e[0];this.editObj={show:this.editObj.show,type:this.editObj.type,stationId:t.channelId,wayName:t.name,payer:t.recipetUserName,getBankName:t.recipetBankName,otherBnakName:t.recipetBankName,getBankAccount:t.recipetAccount,kefuChat:t.serviceWechatNum,kefuQQ:t.serviceQq,kefuPhone:t.serviceTelephone,adminAccount:t.adminUserName,adminPassword:t.adminPassword,yuantongPrice:t.price},this.editObj.show=!0}else if(2===e[1]){for(var a in this.editObj.type=1,this.editObj)"type"!==a&&"show"!==a&&(this.editObj[a]="");this.editObj.show=!0}else 3===e[1]?(this.deleMoneyObj.row=e[0],this.deleMoneyObj.show=!0):4===e[1]&&(this.resetPassObj.row=e[0],this.resetPassObj.show=!0)},sureToReset:function(){var e=this;this.$ajax.post("/api/channel/resetPwd",{platformAccountId:this.userInfo.platformAccountId,channelAccountId:this.resetPassObj.row.adminAccountId}).then(function(t){"200"===t.data.code?(e.$message({message:"操作成功",type:"success"}),e.getList(),e.resetPassObj.show=!1):e.$message({message:t.data.message,type:"warning"})}).catch(function(){e.$message.error("服务器错误！")})},sureToRecharge:function(){var e=this;""===this.rechargeObj.money||""===this.rechargeObj.common?this.$message({message:"请完善内容!",type:"warning"}):(this.rechargeIsPosting=!1,this.$ajax.post("/api/channel/recharge/addMoneyToChannelFund",{money:this.rechargeObj.money,comment:this.rechargeObj.common,channelId:this.rechargeObj.row.channelId,operateUserId:this.userInfo.platformAccountId}).then(function(t){if("200"===t.data.code){for(var a in e.rechargeObj.show=!1,e.$message({message:"操作成功!",type:"success"}),e.getList(),e.rechargeObj)"show"!==a&&(e.rechargeObj[a]="");e.rechargeIsPosting=!0}else e.$message({message:t.data.message,type:"warning"})}).catch(function(e){}))},sureToDele:function(){var e=this;""===this.deleMoneyObj.money||""===this.deleMoneyObj.common?this.$message({message:"请完善内容!",type:"warning"}):(this.reduceIsPosting=!1,this.$ajax.post("/api/channel/recharge/reduceMoneyFromChannelFund",{money:this.deleMoneyObj.money,comment:this.deleMoneyObj.common,channelId:this.deleMoneyObj.row.channelId,operateUserId:this.userInfo.platformAccountId}).then(function(t){if("200"===t.data.code){for(var a in e.deleMoneyObj.show=!1,e.getList(),e.$message({message:"操作成功!",type:"success"}),e.deleMoneyObj)"show"!==a&&(e.deleMoneyObj[a]="");e.reduceIsPosting=!0}else e.$message({message:t.data.message,type:"warning"})}).catch(function(t){e.$message.error("服务器错误！")}))},sureToPost:function(){var e=this,t="";0===this.editObj.type?t="/api/channel/updateChannelInfo":1===this.editObj.type&&(t="/api/channel/addChannel"),this.$ajax.post(t,{channelId:this.editObj.stationId||"",channelName:this.editObj.wayName,recipetContent:("999"===this.editObj.getBankName?this.editObj.otherBnakName:this.editObj.getBankName)+"-"+this.editObj.payer+"-"+this.editObj.getBankAccount,recipetName:this.editObj.payer,recipetAccount:this.editObj.getBankAccount,recipetBankName:"999"===this.editObj.getBankName?this.editObj.otherBnakName:this.editObj.getBankName,serviceQQ:this.editObj.kefuQQ,serviceWechatNum:this.editObj.kefuChat,servicePhone:this.editObj.kefuPhone,adminUserName:this.editObj.adminAccount,adminPassword:this.editObj.adminPassword?c()(this.editObj.adminPassword):"",price:this.editObj.yuantongPrice}).then(function(t){if("200"===t.data.code)for(var a in e.editObj.show=!1,e.$message({message:"操作成功!",type:"success"}),e.getList(),e.editObj)"show"!==a&&"type"!==a&&(e.editObj[a]="");else e.$message({message:t.data.message,type:"warning"})}).catch(function(e){})},getBank:function(){var e=this;this.$ajax.post("/api/config/bankCard/getBankInfoList",{}).then(function(t){"200"===t.data.code?e.bankArr=t.data.data:e.$message({message:t.data.message,type:"warning"})}).catch(function(e){})}},mounted:function(){this.getBank()}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"getwayManger"},[a("div",{staticClass:"search"},[a("div",{staticClass:"left"},[a("span",[e._v("渠道名称")]),e._v(" "),a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"输入渠道名称"},model:{value:e.channelName,callback:function(t){e.channelName=t},expression:"channelName"}}),e._v(" "),a("em",{staticClass:"btn",on:{click:e.getList}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"right"},[a("em",{staticClass:"btn-b",on:{click:function(t){e.userSet([{},2])}}},[e._v("添加渠道")])])]),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"channelId",label:"渠道ID",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"渠道名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价(元)",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"账户余额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rechargeSum",label:"累计充值",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"recipetContent",label:"收款帐号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceQq",label:"客服QQ",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceTelephone",label:"客服电话",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gmtCreate",label:"添加时间",align:"center",width:"185"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.userSet([t.row,0])}}},[e._v("充值")]),e._v(" "),a("el-dropdown",{on:{command:e.userSet}},[a("span",{staticStyle:{"font-size":"12px",color:"#409EFF"}},[e._v("\n              更多\n              "),a("i",{staticClass:"el-icon-arrow-down"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:[t.row,1]}},[e._v("编辑")]),e._v(" "),a("el-dropdown-item",{attrs:{command:[t.row,3]}},[e._v("扣除金额")]),e._v(" "),a("el-dropdown-item",{attrs:{command:[t.row,4]}},[e._v("重置密码")])],1)],1)]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizeArray,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("div",{staticClass:"alertGroup"},[a("el-dialog",{attrs:{title:"渠道充值","append-to-body":!0,visible:e.rechargeObj.show,width:"600px",top:"25vh"},on:{"update:visible":function(t){e.$set(e.rechargeObj,"show",t)}}},[a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"60px","text-align":"right"}},[e._v("金额(元)")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{type:"number",placeholder:"请输入内容"},model:{value:e.rechargeObj.money,callback:function(t){e.$set(e.rechargeObj,"money",t)},expression:"rechargeObj.money"}})],1),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"60px","text-align":"right"}},[e._v("备注")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.rechargeObj.common,callback:function(t){e.$set(e.rechargeObj,"common",t)},expression:"rechargeObj.common"}})],1),e._v(" "),a("div",{staticClass:"buttons",staticStyle:{"text-align":"center","margin-top":"40px"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.rechargeIsPosting,expression:"rechargeIsPosting"}],staticClass:"btn",on:{click:e.sureToRecharge}},[e._v("确定")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.rechargeIsPosting,expression:"!rechargeIsPosting"}],staticClass:"btn"},[a("em",{staticClass:"el-icon-loading"})])])]),e._v(" "),a("el-dialog",{attrs:{title:"扣除余额","append-to-body":!0,visible:e.deleMoneyObj.show,width:"600px",top:"25vh"},on:{"update:visible":function(t){e.$set(e.deleMoneyObj,"show",t)}}},[a("div",{staticClass:"cont",staticStyle:{"text-align":"center"}},[a("span",[e._v("金额")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{type:"number",placeholder:"请输入内容"},model:{value:e.deleMoneyObj.money,callback:function(t){e.$set(e.deleMoneyObj,"money",t)},expression:"deleMoneyObj.money"}})],1),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-top":"20px"}},[a("span",[e._v("备注")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.deleMoneyObj.common,callback:function(t){e.$set(e.deleMoneyObj,"common",t)},expression:"deleMoneyObj.common"}})],1),e._v(" "),a("div",{staticClass:"buttons",staticStyle:{"text-align":"center","margin-top":"40px"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.reduceIsPosting,expression:"reduceIsPosting"}],staticClass:"btn",on:{click:e.sureToDele}},[e._v("确定")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.reduceIsPosting,expression:"!reduceIsPosting"}],staticClass:"btn"},[a("em",{staticClass:"el-icon-loading"})])])]),e._v(" "),a("el-dialog",{attrs:{title:"重置密码","append-to-body":!0,visible:e.resetPassObj.show,width:"600px",top:"25vh"},on:{"update:visible":function(t){e.$set(e.resetPassObj,"show",t)}}},[a("div",{staticClass:"cont",staticStyle:{"text-align":"center"}},[a("span",{staticStyle:{"font-size":"18px","font-wight":"bold"}},[e._v("你确定要重置该用户的密码吗?请谨慎操作")])]),e._v(" "),a("div",{staticClass:"buttons",staticStyle:{"text-align":"center","margin-top":"40px"}},[a("span",{staticClass:"btn-b",staticStyle:{"margin-right":"10px"},on:{click:function(t){e.resetPassObj.show=!1}}},[e._v("取消")]),e._v(" "),a("span",{staticClass:"btn",on:{click:e.sureToReset}},[e._v("确定")])])]),e._v(" "),a("el-dialog",{attrs:{title:0==e.editObj.type?"渠道编辑":"添加渠道","append-to-body":!0,visible:e.editObj.show,width:"600px",top:"5vh"},on:{"update:visible":function(t){e.$set(e.editObj,"show",t)}}},[0==e.editObj.type?a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[e._v("站点编码")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{disabled:0==e.editObj.type,placeholder:"请输入内容"},model:{value:e.editObj.stationId,callback:function(t){e.$set(e.editObj,"stationId",t)},expression:"editObj.stationId"}})],1):e._e(),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[e._v("渠道名称")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.editObj.wayName,callback:function(t){e.$set(e.editObj,"wayName",t)},expression:"editObj.wayName"}})],1),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[e._v("收款人")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.editObj.payer,callback:function(t){e.$set(e.editObj,"payer",t)},expression:"editObj.payer"}})],1),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[e._v("收款卡银行")]),e._v(" "),a("el-select",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请选择"},model:{value:e.editObj.getBankName,callback:function(t){e.$set(e.editObj,"getBankName",t)},expression:"editObj.getBankName"}},[e._l(e.bankArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.bankName,value:e.bankName}})}),e._v(" "),a("el-option",{attrs:{label:"其他",value:"999"}})],2)],1),e._v(" "),999==e.editObj.getBankName?a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}}),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.editObj.otherBnakName,callback:function(t){e.$set(e.editObj,"otherBnakName",t)},expression:"editObj.otherBnakName"}})],1):e._e(),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[e._v("收款卡号")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.editObj.getBankAccount,callback:function(t){e.$set(e.editObj,"getBankAccount",t)},expression:"editObj.getBankAccount"}})],1),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[e._v("客服微信")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.editObj.kefuChat,callback:function(t){e.$set(e.editObj,"kefuChat",t)},expression:"editObj.kefuChat"}})],1),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[e._v("客服QQ")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.editObj.kefuQQ,callback:function(t){e.$set(e.editObj,"kefuQQ",t)},expression:"editObj.kefuQQ"}})],1),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[e._v("客服电话")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.editObj.kefuPhone,callback:function(t){e.$set(e.editObj,"kefuPhone",t)},expression:"editObj.kefuPhone"}})],1),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[e._v("管理员帐号")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{disabled:0==e.editObj.type,placeholder:"请输入内容"},model:{value:e.editObj.adminAccount,callback:function(t){e.$set(e.editObj,"adminAccount",t)},expression:"editObj.adminAccount"}}),e._v(" "),1==e.editObj.type?a("p",{staticStyle:{color:"#ff3341"}},[e._v("注: 管理员帐号添加后不可修改!")]):e._e()],1),e._v(" "),1==e.editObj.type?a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[e._v("管理员密码")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{type:"password",placeholder:"请输入内容"},model:{value:e.editObj.adminPassword,callback:function(t){e.$set(e.editObj,"adminPassword",t)},expression:"editObj.adminPassword"}})],1):e._e(),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right"}},[e._v("圆通定价")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.editObj.yuantongPrice,callback:function(t){e.$set(e.editObj,"yuantongPrice",t)},expression:"editObj.yuantongPrice"}})],1),e._v(" "),a("div",{staticClass:"buttons",staticStyle:{"text-align":"center","margin-top":"40px"}},[a("span",{staticClass:"btn-b",staticStyle:{"margin-right":"10px"},on:{click:function(t){e.editObj.show=!1}}},[e._v("取消")]),e._v(" "),a("span",{staticClass:"btn",on:{click:e.sureToPost}},[e._v("确定")])])])],1)])},staticRenderFns:[]};var p=a("VU/8")(r,d,!1,function(e){a("IAi1")},"data-v-6ac35ac2",null);t.default=p.exports}});
//# sourceMappingURL=10.dfe5c1f204cde00a4d25.js.map